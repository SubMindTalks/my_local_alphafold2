# AlphaFold Setup and Testing on WSL2

## Overview
This project documents the complete process of setting up AlphaFold on a fresh WSL2 instance of Ubuntu 24.04, including managing dependencies, configuring CUDA, downloading required data, and running a test. The goal is to provide a fully automated and repeatable workflow to set up AlphaFold for protein structure prediction.

## Objectives
1. **Streamline Installation**: Automate the installation of AlphaFold and all its dependencies, including CUDA, Python, and required tools like `pdbfixer`.
2. **Handle Data Management**: Ensure efficient downloading and verification of AlphaFold's large datasets.
3. **Simplify Testing**: Provide scripts to verify the installation and run a small test using example sequences.
4. **Improve Reproducibility**: Document the process and scripts to allow users to replicate the setup on new systems.

## Repository Structure
alphafold-setup/ ├── scripts/ │ ├── 01_prepare_install.sh # Installs system dependencies and sets up the environment │ ├── 02_download_and_build.sh # Downloads AlphaFold and its dependencies, builds virtual environments │ ├── 03_prepare_test_run.sh # Prepares data paths and ensures all files are ready for a test │ ├── 04_run_test.sh # Executes a test run of AlphaFold │ └── README.md # Documentation for the project ├── test_sequences/ │ ├── test.fasta # Example FASTA file for testing ├── LICENSE # License for this repository └── README.md # This file


## Prerequisites
Before running the setup scripts, ensure the following:
1. **WSL2 Installed**: Install WSL2 on your system and set up a fresh Ubuntu 24.04 instance.
2. **Sufficient Resources**: AlphaFold requires a system with at least 8 CPUs, 16 GB RAM, and an NVIDIA GPU with CUDA support.
3. **Internet Connection**: Required for downloading dependencies and AlphaFold data.

## Steps to Run the Setup

### 1. Prepare the Environment
Run the following script to install system dependencies, CUDA, and Anaconda:
```bash
bash scripts/01_prepare_install.sh
```

### 2. Download and Build AlphaFold
This script clones the AlphaFold repository, sets up a Python virtual environment, and installs dependencies:
```bash
bash scripts/02_download_and_build.sh
```

### 3. Prepare Data and Test Run Configuration
Specify the path to the AlphaFold data directory (e.g., /mnt/c/work/alphafold_data) and ensure all required data is downloaded:
```bash
bash scripts/03_prepare_test_run.sh /path/to/alphafold_data
```

### 4. Run a Test
Run a simple test to verify that AlphaFold is installed and configured correctly:

```bash
bash scripts/04_run_test.sh
```

## Key Learnings
### Python and CUDA Compatibility:

* Python 3.10 is required.
* CUDA 12.6 is the compatible version for AlphaFold's JAX and JAXLIB requirements.

### Handling Data:

* Use the scripts/download_all_data.sh script provided by AlphaFold to download all required datasets.
* Ensure the correct directory structure for datasets:

```bash
alphafold_data/
├── params/
├── pdb_mmcif/
├── uniref90/
├── mgnify/
└── obsolete.dat

```

### Dependencies:

* Tools like pdbfixer need to be installed manually from source if not available via pip.
* Use conda or venv to manage Python dependencies.

### Efficient Data Management:

* Existing data downloads are skipped by the download_all_data.sh script if already present, saving time.

## Troubleshooting
* If a dependency is missing, check that the PATH and LD_LIBRARY_PATH variables are correctly set.
* For missing datasets, ensure the alphafold_data directory contains all required files and directories.
* Use the logs generated by the scripts to identify and resolve issues.


## Future Goals
* Optimize for Different Systems: Extend scripts to detect system configurations and adapt accordingly.
* Expand Test Coverage: Add more test cases for different protein structures.
* Docker Support: Provide Dockerized scripts for even easier deployment.